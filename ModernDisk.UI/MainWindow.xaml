<Window
    x:Class="ModernDisk.UI.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    mc:Ignorable="d"
    Title="Modern Disk Utility"
    Width="980"
    Height="700">

    <Grid>
        <Grid.Background>
            <AcrylicBrush TintColor="#FF101418" TintOpacity="0.9" FallbackColor="#FF0F1113" />
        </Grid.Background>

        <Grid Padding="24" RowSpacing="16">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <StackPanel Spacing="6">
                <TextBlock Text="Modern Disk Utility" FontSize="28" FontWeight="SemiBold" />
                <TextBlock Text="ISO mount, creation, and disc burning for Windows 10/11." Foreground="{ThemeResource AppMutedTextBrush}" />
            </StackPanel>

            <controls:TabView Grid.Row="1" Margin="0,8,0,0">
                <controls:TabViewItem Header="Mount">
                    <ScrollViewer>
                        <Border Background="{ThemeResource AppCardBrush}" CornerRadius="12" Padding="16">
                            <StackPanel Spacing="12">
                                <TextBlock Text="Mount or unmount an ISO image." FontWeight="SemiBold" />

                                <TextBox x:Name="MountIsoPathBox" PlaceholderText="ISO file path" />

                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <Button Content="Browse" Click="MountBrowse_Click" />
                                    <Button Content="Mount" Click="MountIso_Click" Style="{ThemeResource AccentButtonStyle}" />
                                    <Button Content="Unmount" Click="UnmountIso_Click" />
                                </StackPanel>

                                <TextBlock x:Name="MountStatusText" Foreground="{ThemeResource AppMutedTextBrush}" TextWrapping="Wrap" />
                            </StackPanel>
                        </Border>
                    </ScrollViewer>
                </controls:TabViewItem>

                <controls:TabViewItem Header="Create ISO">
                    <ScrollViewer>
                        <Border Background="{ThemeResource AppCardBrush}" CornerRadius="12" Padding="16">
                            <StackPanel Spacing="12">
                                <TextBlock Text="Build an ISO from a folder." FontWeight="SemiBold" />

                                <TextBox x:Name="CreateSourceFolderBox" PlaceholderText="Source folder" />
                                <Button Content="Browse" Click="CreateBrowseFolder_Click" />

                                <TextBox x:Name="CreateOutputPathBox" PlaceholderText="Output ISO path" />
                                <Button Content="Browse" Click="CreateBrowseOutput_Click" />

                                <TextBox x:Name="CreateVolumeLabelBox" PlaceholderText="Volume label (max 32 chars)" />

                                <Button x:Name="CreateIsoButton" Content="Create ISO" Click="CreateIso_Click" Style="{ThemeResource AccentButtonStyle}" />

                                <ProgressBar x:Name="CreateProgressBar" Height="6" Minimum="0" Maximum="100" Value="0" />
                                <TextBlock x:Name="CreateStatusText" Foreground="{ThemeResource AppMutedTextBrush}" TextWrapping="Wrap" />
                            </StackPanel>
                        </Border>
                    </ScrollViewer>
                </controls:TabViewItem>

                <controls:TabViewItem Header="Burn">
                    <ScrollViewer>
                        <Border Background="{ThemeResource AppCardBrush}" CornerRadius="12" Padding="16">
                            <StackPanel Spacing="12">
                                <TextBlock Text="Burn an ISO to an optical disc." FontWeight="SemiBold" />

                                <TextBox x:Name="BurnIsoPathBox" PlaceholderText="ISO file path" />
                                <Button Content="Browse" Click="BurnBrowseIso_Click" />

                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <ComboBox x:Name="RecorderComboBox" Width="360" PlaceholderText="Select recorder" />
                                    <Button Content="Refresh" Click="RefreshRecorders_Click" />
                                </StackPanel>

                                <Button x:Name="BurnIsoButton" Content="Burn ISO" Click="BurnIso_Click" Style="{ThemeResource AccentButtonStyle}" />

                                <ProgressBar x:Name="BurnProgressBar" Height="6" Minimum="0" Maximum="100" Value="0" />
                                <TextBlock x:Name="BurnStatusText" Foreground="{ThemeResource AppMutedTextBrush}" TextWrapping="Wrap" />
                            </StackPanel>
                        </Border>
                    </ScrollViewer>
                </controls:TabViewItem>
            </controls:TabView>
        </Grid>
    </Grid>
</Window>
